const yearSelect=document.getElementById("year"),monthSelect=document.getElementById("month"),daySelect=document.getElementById("day"),months=["January","February","March","April","May","June","July","August","September","October","November","December"];let previousDay;function populateDays(e){for(;daySelect.firstChild;)daySelect.removeChild(daySelect.firstChild);let t,a=yearSelect.value;t="January"===e||"March"===e||"May"===e||"July"===e||"August"===e||"October"===e||"December"===e?31:"April"===e||"June"===e||"September"===e||"November"===e?30:1===new Date(a,1,29).getMonth()?29:28;for(let e=1;e<=t;e++){const t=document.createElement("option");t.textContent=e,daySelect.appendChild(t)}previousDay&&(daySelect.value=previousDay,""===daySelect.value&&(daySelect.value=previousDay-1),""===daySelect.value&&(daySelect.value=previousDay-2),""===daySelect.value&&(daySelect.value=previousDay-3))}function populateYears(){let e=(new Date).getFullYear();for(let t=0;t<101;t++){const a=document.createElement("option");a.textContent=e-t,yearSelect.appendChild(a)}}!function(){for(let e=0;e<months.length;e++){const t=document.createElement("option");t.textContent=months[e],monthSelect.appendChild(t)}monthSelect.value="January"}(),populateDays(monthSelect.value),populateYears(),yearSelect.onchange=function(){populateDays(monthSelect.value)},monthSelect.onchange=function(){populateDays(monthSelect.value)},daySelect.onchange=function(){previousDay=daySelect.value};
const submitButton=document.getElementById("submit"),formContainer=document.getElementById("main-form"),validateField=(e,s,t)=>{e.addEventListener("blur",t=>{if(!s(t.target.value))return!0,void e.closest(".form-field").setAttribute("aria-invalid","true");!1,e.closest(".form-field").setAttribute("aria-invalid","false")}),e.addEventListener("focus",s=>{e.closest(".form-field").setAttribute("aria-invalid","false")})},firstName=document.getElementById("first-name");let isFirstNameError=!0;validateField(firstName,e=>!!e);const lastName=document.getElementById("last-name");let isLastNameError=!0;validateField(lastName,e=>!!e);const email=document.getElementById("email");let isEmailError=!0;const validateEmail=e=>e.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);validateField(email,validateEmail);const password=document.getElementById("password");let isPasswordError=!0;const validatePassword=e=>{let s=!0;const t=document.getElementById("pass-length"),r=document.getElementById("pass-up"),a=document.getElementById("pass-low"),o=document.getElementById("pass-num");return e.length>7?t.classList.add("correct"):(t.classList.remove("correct"),s=!1),/[A-Z]/.test(e)?r.classList.add("correct"):(r.classList.remove("correct"),s=!1),/[a-z]/.test(e)?a.classList.add("correct"):(a.classList.remove("correct"),s=!1),/[0-9]/.test(e)?o.classList.add("correct"):(o.classList.remove("correct"),s=!1),s};password.addEventListener("input",e=>{validatePassword(e.target.value)}),validateField(password,validatePassword);const passConfirm=document.getElementById("confirm-password");console.log(passConfirm);let isPassConfirmError=!0;const validatePassConfirm=()=>(console.log({pass:password.value,conf:passConfirm.value}),passConfirm.value===password.value);validateField(passConfirm,validatePassConfirm),password.addEventListener("blur",()=>{passConfirm.closest(".form-field").setAttribute("aria-invalid",validatePassConfirm()?"false":"true")}),submitButton.addEventListener("click",e=>{if(console.log({isFirstNameError:isFirstNameError,isLastNameError:isLastNameError,isEmailError:isEmailError,isPasswordError:isPasswordError,isPassConfirmError:isPassConfirmError}),e.preventDefault(),isFirstNameError||isLastNameError||isEmailError||isPasswordError||isPassConfirmError)return;formContainer.innerHTML="";const s=document.getElementById("done-template").content.cloneNode(!0);formContainer.appendChild(s)});